\documentclass[casi-duso]{subfiles}

\begin{document}

%UUC1 (start)
\subsubsection{UUC1 - Registrazione}%
\label{subsub:UUC1utente}

\begin{plantuml}
@startuml
!include ../../commons/style/use-cases.pu

title UUC1 - Registrazione

actor :utente non autenticato: as A

rectangle {
  together {
    usecase (UUC1.1) as "UUC1.1\nVisualizzazione EULA"
    usecase (UUC1.2) as "UUC1.2\nInserimento dati registrazione"
    usecase (UUC1.1.1) as "UUC1.1.1\nConferma EULA"
  }
}

:A: -- (UUC1.1)
:A: -- (UUC1.2)

(UUC1.1.1) .up.|> (UUC1.1) : <<include>>

@enduml
\end{plantuml}

\begin{itemize}
  \item \textbf{Caso d’uso:} UUC1
  \item \textbf{Titolo:} Registrazione
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente non è registrato al servizio.
  \item \textbf{Postcondizione:} la registrazione va a buon fine e l'utente è registrato.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item prima di procedere con la registrazione, l'utente visualizza l'\glossario{EULA} e per continuare deve accettare i vincoli stabiliti da essa;
          \item una volta accettata l'EULA, l'utente provvede all'inserimento dei dati personali per la registrazione.
        \end{enumerate}
  \item \textbf{Inclusioni:}
        \begin{enumerate}
          \item EULA deve essere confermata, altrimenti la registrazione non può continuare.
        \end{enumerate}
\end{itemize}
% subsub:UUC1utente (end)

%UUC1.1 (start)
\subsubsection{UUC1.1 - Visualizzazione EULA}%
\label{subsub:UUC1.1utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC1.1
  \item \textbf{Titolo:} Visualizzazione EULA
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente è all'interno della schermata di registrazione
  \item \textbf{Postcondizione:} l'utente visualizza l'EULA
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente visualizza una schermata con tutti i vincoli da accettare presenti nell'EULA.
        \end{enumerate}
  \item \textbf{Inclusioni:}
        \begin{enumerate}
          \item l'utente deve confermare l'EULA per continuare la registrazione.
        \end{enumerate}
\end{itemize}
% subsub:UUC1.1utente (end)

%UUC1.1.1 (start)
\subsubsection{UUC1.1.1 - Conferma EULA}%
\label{subsub:UUC1.1.1utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC1.1.1
  \item \textbf{Titolo:} Conferma EULA
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente visualizza l'EULA.
  \item \textbf{Postcondizione:} l'utente continua la registrazione in quanto ha accettato l'EULA.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item E' presente un'opzione per accettare l'EULA: in caso affermativo, la registrazione può andare avanti.
        \end{enumerate}
\end{itemize}
% subsub:UUC1.1.1utente (end)

%UUC1.2 (start)
\subsubsection{UUC1.2 - Inserimento dati registrazione}%
\label{subsub:UUC1.2utente}

\begin{plantuml}
@startuml
!include ../../commons/style/use-cases.pu
  
title UUC1.2 - Inserimento dati registrazione
  
actor :utente non autenticato: as A
  
rectangle {
  together {
    usecase (UUC1.2.1) as "UUC1.2.1\nRegistrazione email\n--\nExtension points:\nVisualizzazione errore se la mail\nnon Ã¨ scritta in modo corretto"
    usecase (UUC1.2.2) as "UUC1.2.2\nRegistrazione password\n--\nExtension points:\nVisualizzazione errore se la\npassword non rispetta i criteri" 
    usecase (UUC1.2.3) as "UUC1.2.3\nConferma password\n--\nExtension points:\nVisualizzazione errore se le\ndue password non coincidono"     
    usecase (UUC1.2.4) as "UUC1.2.4\nInserimento dati anagrafici\n--\nExtension points:\nVisualizzazione errore\ndati mancanti" 
    usecase (UUC1.2.5) as "UUC1.2.5\nInformazioni registrazione non valide"
  }
}
  
:A: -- (UUC1.2.1)
:A: -- (UUC1.2.2)
:A: -- (UUC1.2.3)
:A: -- (UUC1.2.4)
  
(UUC1.2.5) .up.|> (UUC1.2.4) : <<extends>>
(UUC1.2.5) .up.|> (UUC1.2.3) : <<extends>>
(UUC1.2.5) .up.|> (UUC1.2.2) : <<extends>>
(UUC1.2.5) .up.|> (UUC1.2.1) : <<extends>>
  
@enduml  
\end{plantuml}

\begin{itemize}
  \item \textbf{Caso d’uso:} UUC1.2
  \item \textbf{Titolo:} Inserimento dati registrazione
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente ha accettato l'EULA.
  \item \textbf{Postcondizione:} l'utente ha inserito correttamente tutti i dati necessari alla registrazione e diventa un utente registrato.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente visualizza una serie di campi da compilare.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se i dati inseriti non sono validi, l'utente visualizzerà un errore.
        \end{enumerate}
\end{itemize}
% subsub:UUC1.2utente (end)

%UUC1.2.1 (start)
\subsubsection{UUC1.2.1 - Registrazione email}%
\label{subsub:UUC1.2.1utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC1.2.1
  \item \textbf{Titolo:} Registrazione email
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente si trova nella schermata di registrazione nel campo dell'email.
  \item \textbf{Postcondizione:} l'utente ha inserito la email in modo corretto.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente seleziona il campo della email e la inserisce.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se la mail è scritta in una forma non corretta, verrà visualizzato un'errore di mail non valida.
        \end{enumerate}
\end{itemize}
% subsub:UUC1.2.1utente (end)

%UUC1.2.2 (start)
\subsubsection{UUC1.2.2 - Registrazione password}%
\label{subsub:UUC1.2.2utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC1.2.2
  \item \textbf{Titolo:} Registrazione password
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente si trova nella schermata di registrazione nel campo della password.
  \item \textbf{Postcondizione:} l'utente ha inserito la password in modo corretto.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente seleziona il campo della password e la crea.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se la password non rispetta determinati vincoli, verrà visualizzato un'errore di password non valida.
        \end{enumerate}
\end{itemize}
% subsub:UUC1.2.2utente (end)

%UUC1.2.3 (start)
\subsubsection{UUC1.2.3 - Conferma password}%
\label{subsub:UUC1.2.3utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC1.2.3
  \item \textbf{Titolo:} Conferma password
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente si trova nella schermata di registrazione nel campo della conferma della password,
        e la password inserita in precedenza dall'utente rispetta tutti i vincoli.
  \item \textbf{Postcondizione:} l'utente ha inserito la conferma della password in modo corretto.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente seleziona il campo della conferma della password e la inserisce.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se la password inserita non è uguale a quella precedente, verrà visualizzato un'errore di conferma password non valida.
        \end{enumerate}
\end{itemize}
% subsub:UUC1.2.3utente (end)

%UUC1.2.4 (start)
\subsubsection{UUC1.2.4 - Inserimento dati anagrafici}%
\label{subsub:UUC1.2.4utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC1.2.4
  \item \textbf{Titolo:} Inserimento dati anagrafici
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente si trova nella schermata di registrazione nei campi dei dati anagrafici.
  \item \textbf{Postcondizione:} l'utente ha inserito i dati anagrafici in modo corretto.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente seleziona i vari campi inerenti ai dati anagrafici e gli inserisce.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se uno o più dati anagrafici inseriti non rispettano determinati vincoli, verrà visualizzato un'errore sui campi in cui è segnalato l'errore.
        \end{enumerate}
\end{itemize}
% subsub:UUC1.2.4utente (end)

%UUC1.2.5 (start)
\subsubsection{UUC1.2.5 - Informazioni registrazione non valide}%
\label{subsub:UUC1.2.5utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC1.2.5
  \item \textbf{Titolo:} informazioni registrazione non valide
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente si trova nella schermata di registrazione e non rispetta i vincoli imposti sui campi presenti.
  \item \textbf{Postcondizione:} l'applicazione mobile comunica all'utente l'errore.
  \item \textbf{Scenario Principale:}
        \begin{enumerate}
          \item l'utente visualizza il messaggio d'errore, in quanto le informazioni inserite non sono valide.
        \end{enumerate}
\end{itemize}
% subsub:UUC1.2.5utente (end)

%UUC2 (start)
\subsubsection{UUC2 - Autenticazione}%
\label{subsub:UUC2utente}

\begin{plantuml}
@startuml
!include ../../commons/style/use-cases.pu
  
title UUC2 - Autenticazione
  
actor :utente non autenticato: as A
  
rectangle {
  together {
    usecase (UUC2.1) as "UUC2.1\nInserimento email\n--\nExtension points:\nVisualizzazione errore\ncredenziali errate"
    usecase (UUC2.2) as "UUC2.2\nInserimento password\n--\nExtension points:\nVisualizzazione errore\ncredenziali errate" 
    usecase (UUC2.3) as "UUC2.3\nInformazioni autenticazione non valide"     
  }
}
  
:A: -- (UUC2.1)
:A: -- (UUC2.2)
  
(UUC2.3) .up.|> (UUC2.2) : <<extends>>
(UUC2.3) .up.|> (UUC2.1) : <<extends>>
  
@enduml
\end{plantuml}

\begin{itemize}
  \item \textbf{Caso d’uso:} UUC2
  \item \textbf{Titolo:} Autenticazione
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente è registrato al servizio.
  \item \textbf{Postcondizione:} l'utente è autenticato al servizio.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente visualizza la schermata per l'autenticazione e inserisce email e password sugli appositi campi.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se la coppia email-password inserite non sono presenti all'interno del database di Stalker, allora verrà visualizzato un'errore.
        \end{enumerate}
\end{itemize}
% subsub:UUC3utente (end)

%UUC2.1 (start)
\subsubsection{UUC2.1 - Inserimento email}%
\label{subsub:UUC2.1utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC2.1
  \item \textbf{Titolo:} Inserimento email
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente si posiziona sul campo dell'email.
  \item \textbf{Postcondizione:} la email inserita è corretta.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente seleziona il campo dell'email e la inserisce.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se la email inserita non è presente nel database, si visualizzerà un errore di credenziali errate (per motivi di sicurezza
                non si indica qual è il campo errato).
        \end{enumerate}
\end{itemize}
% subsub:UUC2.1utente (end)

%UUC2.2 (start)
\subsubsection{UUC2.2 - inserimento password}%
\label{subsub:UUC2.2utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC2.2
  \item \textbf{Titolo:} Inserimento password
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente si posiziona sul campo della password.
  \item \textbf{Postcondizione:} la password inserita è corretta.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente seleziona il campo della password e la inserisce.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se la password inserita non è presente nel database, si visualizzerà un errore di credenziali errate (per motivi di sicurezza
                non si indica qual è il campo errato).
        \end{enumerate}
\end{itemize}
% subsub:UUC2.2utente (end)

%UUC3.3 (start)
\subsubsection{UUC2.3 - Informazioni autenticazione non valide}%
\label{subsub:UUC2.3utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC2.3
  \item \textbf{Titolo:} Informazioni autenticazione non valide
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente si trova nella schermata di autenticazione e non rispetta i vincoli imposti sui campi presenti.
  \item \textbf{Postcondizione:} l'applicazione mobile comunica all'utente l'errore.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente visualizza il messaggio d'errore, in quanto le informazioni inserite non sono valide.
        \end{enumerate}
\end{itemize}
% subsub:UUC2.3utente (end)

%UUC3 (start)
\subsubsection{UUC3 - Recupero credenziali}%
\label{subsub:UUC3utente}

\begin{plantuml}
@startuml
!include ../../commons/style/use-cases.pu

title UUC3 - Recupero credenziali

actor :utente non autenticato: as A

rectangle {
  together {
    usecase (UUC3.1) as "UUC3.1\nRecupero password" 
  }
}

:A: -- (UUC3.1)

@enduml
\end{plantuml}

\begin{itemize}
  \item \textbf{Caso d’uso:} UUC3
  \item \textbf{Titolo:} Recupero credenziali
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente si trova nella schermata iniziale ed è registrato al servizio.
  \item \textbf{Postcondizione:} l'utente si trova nella schermata di recupero credenziali.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente può selezionare la voce per il recupero credenziali e avviene tramite recupero password.
        \end{enumerate}
\end{itemize}
% subsub:UUC3utente (end)

%UUC3.1 (start)
\subsubsection{UUC3.1 - Recupero password}%
\label{subsub:UUC3.1utente}

\begin{plantuml}
@startuml
!include ../../commons/style/use-cases.pu

title UUC3.1 - Recupero password

actor :utente non autenticato: as A

rectangle {
  together {
    usecase (UUC3.1.1) as "UUC3.1.1\nInserimento\nemail di registrazione\n--\nExtension points:\nVisualizzazione errore se l'email\nnon è registrata"
    usecase (UUC3.1.2) as "UUC3.1.2\nReimpostazione password\n--\nExtension points:\nVisualizzazione errore se:\n-nuova password non rispetta vincoli\n-nuova password e sua conferma\nnon coincidono"  
    usecase (UUC3.1.3) as "UUC3.1.3\nInformazioni recupero non valide" 
  }
}

:A: -- (UUC3.1.1)
:A: -- (UUC3.1.2)

(UUC3.1.3) .up.|> (UUC3.1.2) : <<extends>>
(UUC3.1.3) .up.|> (UUC3.1.1) : <<extends>>

@enduml  
\end{plantuml}

\begin{itemize}
  \item \textbf{Caso d’uso:} UUC3.1
  \item \textbf{Titolo:} Recupero password
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente si trova nella schermata di recupero credenziali.
  \item \textbf{Postcondizione:} l'utente ha recuperato le credenziali e può nuovamente autenticarsi.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item tramite questa procedura, l'utente ha la possibilità di recuperare la password.
        \end{enumerate}
\end{itemize}
% subsub:UUC3.1utente (end)

%UUC3.1.1 (start)
\subsubsection{UUC3.1.1 - Inserimento email di registrazione}%
\label{subsub:UUC3.1.1utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC3.1.1
  \item \textbf{Titolo:} Inserimento email di registrazione
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente deve ancora iniziare la procedura di recupero password.
  \item \textbf{Postcondizione:} l'utente ha inserito correttamente la email di registrazione.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente inserisce l'email personale per l'autenticazione, e riceve una email con il \glossario{link} per reimpostare la password.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se l'email inserita non è registrata nel database, allora verrà segnalato un errore.
        \end{enumerate}
\end{itemize}
% subsub:UUC3.1.1utente (end)

%UUC3.1.2 (start)
\subsubsection{UUC3.1.2 - Reimpostazione password}%
\label{subsub:UUC3.1.2utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC3.1.2
  \item \textbf{Titolo:} Reimpostazione password
  \item \textbf{Attori primari:} utente non autenticato
  \item \textbf{Precondizione:} l'utente ha ricevuto il link presente nella email personale per reimpostare la password.
  \item \textbf{Postcondizione:} l'utente ha inserito correttamente la nuova password e ha recuperato le proprie credenziali.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente reimposta la password in una procedura che avviene in due passaggi:
                \begin{enumerate}
                  \item reset della vecchia password, non visibile all'utente;
                  \item inserimento della nuova password e la conferma della nuova conferma.
                \end{enumerate}
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se la nuova password non rispetta determinati vincoli, verrà visualizzato un'errore;
          \item se la nuova password e la sua conferma non coincidono tra loro, verrà visualizzato un'errore.
        \end{enumerate}
\end{itemize}
% subsub:UUC3.1.2utente (end)

%UUC4 (start)
\subsubsection{UUC4 - Recupero lista organizzazioni}%
\label{subsub:UUC4utente}

\begin{plantuml}
@startuml
!include ../../commons/style/use-cases.pu

title UUC4 - Recupero lista organizzazioni

actor :utente autenticato: as A

rectangle {
  together {
    usecase (UUC4.1) as "UUC4.1\nVisualizzazione\nlista organizzazioni\n--\nExtension points:\nVisualizzazione errore causa\n-richiesta di visualizzazione della lista con rete mancante\n-aggiornamento della lista con rete mancante"
    usecase (UUC4.1.1) as "UUC4.1.1\nAggiornamento\nlista organizzazioni"
    usecase (UUC5) as "UUC5\nVisualizzazione errore\nrete mancante"
  }
}

:A: -- (UUC4.1)

(UUC4.1.1) .up.|> (UUC4.1) : <<include>>
(UUC5) .up.|> (UUC4.1) : <<extends>>

@enduml
\end{plantuml}

\begin{itemize}
  \item \textbf{Caso d’uso:} UUC4
  \item \textbf{Titolo:} Recupero lista organizzazioni
  \item \textbf{Attori primari:} utente autenticato
  \item \textbf{Precondizione:} l'utente si è appena autenticato.
  \item \textbf{Postcondizione:} l'utente visualizza una lista di tutte le organizzazioni.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente ha la possibilità di recuperare una lista di organizzazioni alla quale si può collegare;
        \end{enumerate}
  \item \textbf{Inclusioni:}
        \begin{enumerate}
          \item la lista delle organizzazioni si può aggiornare.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item in caso di rete mancante, non possono essere eseguite queste operazioni e quindi verrà notificato un errore.
        \end{enumerate}
\end{itemize}
% subsub:UUC4utente (end)

%UUC4.1 (start)
\subsubsection{UUC4.1 - Visualizzazione lista organizzazioni}%
\label{subsub:UUC4.1utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC4.1
  \item \textbf{Titolo:} Visualizzazione lista organizzazioni
  \item \textbf{Attori primari:} utente autenticato
  \item \textbf{Precondizione:} l'utente si trova nella schermata post-autenticazione.
  \item \textbf{Postcondizione:} l'utente visualizza la lista di tutte le organizzazioni.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente visualizza, tramite un'apposita operazione, la lista di tutte le organizzazioni autorizzate a monitorare l'utente autenticato.
        \end{enumerate}
  \item \textbf{Inclusioni:}
        \begin{enumerate}
          \item la lista delle organizzazioni può essere aggiornata.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item in caso di rete mancante, si visualizzerà un errore in caso di richiesta di visualizzazione della lista delle organizzazioni
                oppure di aggiornamento della lista delle organizzazioni.
        \end{enumerate}
\end{itemize}
% subsub:UU4.1utente (end)

%UUC4.1.1 (start)
\subsubsection{UUC4.1.1 - Aggiornamento lista organizzazioni}%
\label{subsub:UUC4.1.1utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC4.1.1
  \item \textbf{Titolo:} Aggiornamento lista organizzazioni
  \item \textbf{Attori primari:} utente autenticato
  \item \textbf{Precondizione:} l'utente visualizza la lista delle organizzazioni.
  \item \textbf{Postcondizione:} l'utente ha aggiornato la lista delle organizzazioni.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente ha la possibilità di aggiornare la lista delle organizzazioni, e viene avvisato mediante \glossario{notifica} dell'applicazione mobile.
        \end{enumerate}
\end{itemize}
% subsub:UUC4.1.1.1utente (end)

%UUC5 (start)
\subsubsection{UUC5 - Visualizzazione errore rete mancante}%
\label{subsub:UUC5utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC5
  \item \textbf{Titolo:} Visualizzazione errore rete mancante
  \item \textbf{Attori primari:} utente autenticato
  \item \textbf{Precondizione:} l'utente è autenticato, ma nel suo dispositivo non c'è alcun accesso alla rete.
  \item \textbf{Postcondizione:} l'applicazione mobile comunica all'utente l'errore.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente visualizza il messaggio d'errore, in quanto non è possibile eseguire operazioni che necessitano della rete in mancanza di essa.
        \end{enumerate}
\end{itemize}
% subsub:UUC5utente (end)

%UUC6 (start)
\subsubsection{UUC6 - Collegamento organizzazione}%
\label{subsub:UUC6utente}

\begin{plantuml}
@startuml
!include ../../commons/style/use-cases.pu

title UUC6 - Collegamento organizzazione

actor :utente autenticato: as A3
actor :utente non collegato: as A3.1

:A3.1: -up-|> :A3:

rectangle {
  together {
    usecase (UUC6.1) as "UUC6.1\nSelezionamento di un'organizzazione\n--\nExtension points:\nVisualizzazione errore in caso di\nselezionamento di un'organizzazione\n con rete mancante"
    usecase (UUC5) as "UUC5\nVisualizzazione errore\nrete mancante"
  }
}

:A3.1: -- (UUC6.1)

(UUC5) .up.|> (UUC6.1) : <<extends>>

@enduml
\end{plantuml}

\begin{itemize}
  \item \textbf{Caso d’uso:} UUC6
  \item \textbf{Titolo:} Collegamento organizzazione
  \item \textbf{Attori primari:} utente autenticato, in particolare utente non collegato
  \item \textbf{Precondizione:} l'utente si trova sulla lista delle organizzazioni.
  \item \textbf{Postcondizione:} l'utente ha selezionato un'organizzazione ed è collegato ad essa.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente sceglie un'organizzazione alla quale collegarsi.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item in caso di rete mancante, non è possibile collegarsi ad un'organizzazione.
        \end{enumerate}
\end{itemize}
% subsub:UUC6utente (end)

%UUC6.1 (start)
\subsubsection{UUC6.1 - Selezione di un'organizzazione}%
\label{subsub:UUC6.1utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC6.1
  \item \textbf{Titolo:} Selezione di un'organizzazione
  \item \textbf{Attori primari:} utente autenticato, in particolare utente non collegato
  \item \textbf{Precondizione:} l'utente visualizza la lista delle organizzazioni.
  \item \textbf{Postcondizione:} l'utente è collegato ad un'organizzazione.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente seleziona un'organizzazione dalla lista.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item in caso di rete mancante, non è possibile collegarsi ad un'organizzazione.
        \end{enumerate}
\end{itemize}
% subsub:UUC6.1utente (end)

%UUC7 (start)
\subsubsection{UUC7 - Scollegamento organizzazione}%
\label{subsub:UUC7utente}

\begin{plantuml}
@startuml
!include ../../commons/style/use-cases.pu

title UUC7 - Scollegamento organizzazione

actor :utente autenticato: as A3
actor :utente collegato: as A3.1
:A3.1: -up-|> :A3:

rectangle {
  together {
    usecase (UUC7) as "UUC7\nScollegamento organizzazione\n--\nExtension points:\nVisualizzazione errore in caso di\nscollegamento dall'organizzazione\n con rete mancante"
    usecase (UUC5) as "UUC5\nVisualizzazione errore\nrete mancante"
  }
}

:A3.1: -- (UUC7)

(UUC5) .up.|> (UUC7) : <<extends>>

@enduml  
\end{plantuml}

\begin{itemize}
  \item \textbf{Caso d’uso:} UUC7
  \item \textbf{Titolo:} Scollegamento organizzazione
  \item \textbf{Attori primari:} utente autenticato, in particolare utente collegato
  \item \textbf{Precondizione:} l'utente si trova sulla schermata specifica dell'organizzazione a cui è collegato.
  \item \textbf{Postcondizione:} l'utente non è più collegato all'organizzazione.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente vuole scollegarsi da una organizzazione a cui è collegato, e lo fa dalla schermata dell'organizzazione.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se l'utente cerca di scollegarsi da un'organizzazione in caso di rete mancante, si visualizzerà un errore.
        \end{enumerate}
\end{itemize}
% subsub:UUC7utente (end)

%UUC8 (start)
\subsubsection{UUC8 - Scollegamento da organizzazioni multiple}%
\label{subsub:UUC8utente}

\begin{plantuml}
@startuml
!include ../../commons/style/use-cases.pu

title UUC8 - Scollegamento da organizzazioni multiple

actor :utente autenticato: as A3
actor :utente collegato: as A3.1
:A3.1: -up-|> :A3:

rectangle {
  together {
    usecase (UUC8) as "UUC8\nScollegamento da organizzazioni multiple\n--\nExtension points:\nVisualizzazione errore in caso di\nscollegamento dall'organizzazione\n con rete mancante"
    usecase (UUC5) as "UUC5\nVisualizzazione errore\nrete mancante"
  }
}

:A3.1: -- (UUC8)

(UUC5) .up.|> (UUC8) : <<extends>>

@enduml
\end{plantuml}

\begin{itemize}
  \item \textbf{Caso d’uso:} UUC8
  \item \textbf{Titolo:} Scollegamento organizzazioni multiple
  \item \textbf{Attori primari:} utente autenticato, in particolare utente collegato
  \item \textbf{Precondizione:} l'utente si trova sulla schermata della lista delle organizzazioni e ne ha selezionate una o più.
  \item \textbf{Postcondizione:} l'utente non è più collegato alle organizzazioni che ha selezionato.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente vuole scollegarsi da una o più organizzazioni a cui è collegato e lo fa dalla schermata della lista.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se l'utente cerca di scollegarsi da una o più organizzazioni in caso di rete mancante, si visualizzerà un errore.
        \end{enumerate}
\end{itemize}
% subsub:UUC8utente (end)

%UUC9 (start)
\subsubsection{UUC9 - Passaggio noto/incognito}%
\label{subsub:UUC9utente}

\begin{plantuml}
@startuml
!include ../../commons/style/use-cases.pu

title UUC9 - Passaggio noto/incognito

actor :utente autenticato: as A3
actor :utente collegato: as A3.1
:A3.1: -up-|> :A3:

rectangle {
  together {
    usecase (UUC9.1) as "UUC9.1\nScelta noto o incognito\n--\nExtension points:\nVisualizzazione errore in caso di\noperazione di cambio contesto\n con rete mancante"
    usecase (UUC5) as "UUC5\nVisualizzazione errore\nrete mancante"
  }
}

:A3.1: -- (UUC9.1)

(UUC5) .up.|> (UUC9.1) : <<extends>>

@enduml
\end{plantuml}

\begin{itemize}
  \item \textbf{Caso d’uso:} UUC9
  \item \textbf{Titolo:} Passaggio noto/incognito
  \item \textbf{Attori primari:} utente autenticato, in particolare utente collegato
  \item \textbf{Precondizione:} l'utente si trova sulla schermata specifica dell'utente collegato ad un'organizzazione.
  \item \textbf{Postcondizione:} se l'utente era noto diventa incognito; vale anche il contrario.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente ha la possibilità di cambiare il tipo di monitoraggio che l'organizzazione è tenuta a conoscere.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se viene eseguita questa operazione in mancanza di rete, verrà visualizzato un'errore.
        \end{enumerate}
\end{itemize}
% subsub:UUC9utente (end)

%UUC9.1 (start)
\subsubsection{UUC9.1 - Scelta noto o incognito}%
\label{subsub:UUC9.1utente}

\begin{plantuml}
@startuml
!include ../../commons/style/use-cases.pu

title UUC9.1 - Scelta noto o incognito

actor :utente collegato: as A3

actor :utente noto: as A3.1
actor :utente incognito: as A3.2

:A3.1: -up-|> :A3:
:A3.2: -up-|> :A3:

rectangle {
  together {
    usecase (UUC9.1.1) as "UUC9.1.1\nPassaggio a incognito"
    usecase (UUC9.1.2) as "UUC9.1.2\nPassaggio a noto"
  }
}

:A3.1: -- (UUC9.1.1)
:A3.2: -- (UUC9.1.2)

@enduml
\end{plantuml}

\begin{itemize}
  \item \textbf{Caso d’uso:} UUC9.1
  \item \textbf{Titolo:} Scelta noto o incognito
  \item \textbf{Attori primari:} utente collegato, in particolare utente noto ed utente incognito
  \item \textbf{Precondizione:} l'utente si trova sulla schermata specifica dell'utente collegato ad un'organizzazione.
  \item \textbf{Postcondizione:} se l'utente era noto diventa incognito; vale anche il contrario.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente è collegato ad un'organizzazione in cui la sua presenza è nota; l'utente ha la possibilità di passare in modalità incognito.
          \item l'utente è collegato ad un'organizzazione in cui la sua presenza è incognita; l'utente ha la possibilità di passare in modalità nota.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se viene eseguita questa operazione in mancanza di rete, verrà visualizzato un'errore.
        \end{enumerate}
\end{itemize}
% subsub:UUC9.1utente (end)

%UUC9.1.1 (start)
\subsubsection{UUC9.1.1 - Passaggio a incognito}%
\label{subsub:UUC9.1.1utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC9.1.1
  \item \textbf{Titolo:} Passaggio a incognito
  \item \textbf{Attori primari:} utente collegato, in particolare utente noto
  \item \textbf{Precondizione:} l'utente deve essere collegato e noto.
  \item \textbf{Postcondizione:} l'utente è collegato ed incognito.
  \item \textbf{Scenario Principale:}
        \begin{enumerate}
          \item l'utente è noto in un'organizzazione e vuole diventare incognito: in questo modo la sua presenza è nota, ma non lo è la sua identità.
        \end{enumerate}
\end{itemize}
% subsub:UUC9.1.1utente (end)

%UUC9.1.2 (start)
\subsubsection{UUC9.1.2 - Passaggio a noto}%
\label{subsub:UUC9.1.2utente}
\begin{itemize}
  \item \textbf{Caso d’uso:} UUC9.1.2
  \item \textbf{Titolo:} Passaggio a noto
  \item \textbf{Attori primari:} utente collegato, in particolare utente incognito
  \item \textbf{Precondizione:} l'utente deve essere collegato ed incognito.
  \item \textbf{Postcondizione:} l'utente è collegato e noto.
  \item \textbf{Scenario Principale:}
        \begin{enumerate}
          \item l'utente è incognito in un'organizzazione e vuole diventare noto: in questo modo, sia la sua presenza che la sua identità sono note.
        \end{enumerate}
\end{itemize}
% subsub:UUC9.1.2utente (end)

%UUC10 (start)
\subsubsection{UUC10 - Storico utente}%
\label{subsub:UUC10utente}

\begin{plantuml}
@startuml
!include ../../commons/style/use-cases.pu

title UUC10 - Storico utente

actor :utente autenticato: as A

rectangle {
  together {
    usecase (UUC10) as "UUC10\nVisualizzazione storico accessi\n--\nExtension points:\nVisualizzazione errore in\ncaso di richiesta storico\nin mancanza di rete"
    usecase (UUC5) as "UUC5\nVisualizzazione errore\nrete mancante"
    note right of (UUC10): implementazione opzionale
  }
}

:A: -- (UUC10)

(UUC5) .up.|> (UUC10) : <<extends>>

@enduml
\end{plantuml}

\begin{itemize}
  \item \textbf{Caso d’uso:} UUC10
  \item \textbf{Titolo:} Storico utente
  \item \textbf{Attori primari:} utente autenticato
  \plchold{chiedere a tullio la precondizione}
  \item \textbf{Precondizione:}  l'utente deve poter accedere al pulsante dello storico.
  \item \textbf{Postcondizione:} l'utente visualizza lo storico degli accessi.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente accede ad una schermata per la visualizzazione dello storico personale degli accessi.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se l'utente cerca di visualizzare lo storico degli accessi in assenza di rete, si visualizzerà un errore.
        \end{enumerate}
\end{itemize}
% subsub:UUC10utente (end)

%UUC11 (start)
\subsubsection{UUC11 - Visualizzazione tempo trascorso nell'organizzazione corrente}%
\label{subsub:UUC11utente}

\begin{plantuml}
@startuml
!include ../../commons/style/use-cases.pu

title UUC11 - Visualizzazione tempo nell'organizzazione corrente

actor :utente autenticato: as A3
actor :utente collegato: as A3.1

:A3.1: -up-|> :A3:

rectangle {
  together {
    usecase (UUC11) as "UUC11\nVisualizzazione tempo \nnell'organizzazione corrente\n--\nExtension points:\nVisualizzazione errore in\ncaso di richiesta tempo trascorso\nin mancanza di rete"
    usecase (UUC5) as "UUC5\nVisualizzazione errore\nrete mancante"
    note right of (UUC11): implementazione opzionale
  }
}

:A3.1: -- (UUC11)

(UUC5) .up.|> (UUC11) : <<extends>>

@enduml
\end{plantuml}

\begin{itemize}
  \item \textbf{Caso d’uso:} UUC11
  \item \textbf{Titolo:} Visualizzazione tempo trascorso nell'organizzazione corrente
  \item \textbf{Attori primari:} utente autenticato, in particolare utente collegato
  \item \textbf{Precondizione:} l'utente deve poter accedere al pulsante del tempo.
  \item \textbf{Postcondizione:} l'utente visualizza il tempo trascorso nell'organizzazione.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente visualizza in tempo reale il tempo trascorso all'interno di un'organizzazione.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se l'utente accede ad una schermata per la visualizzazione del tempo trascorso nell'organizzazione in assenza di rete, si visualizzerà un errore.
        \end{enumerate}
\end{itemize}
% subsub:UUC11utente (end)

%UUC12 (start)
\subsubsection{UUC12 - Disconnessione utente}%
\label{subsub:UUC12utente}

\begin{plantuml}
@startuml
!include ../../commons/style/use-cases.pu

title UUC12 - Disconnessione utente

actor :utente autenticato: as A3

rectangle {
  together {
    usecase (UUC12) as "UUC12\nDisconnessione utente\n--\nExtension points:\nVisualizzazione errore in\ncaso di disconnessione\nin mancanza di rete"
    usecase (UUC5) as "UUC5\nVisualizzazione errore\nrete mancante"
  }
}

:A3: -- (UUC12)

(UUC5) .up.|> (UUC12) : <<extends>>

@enduml
\end{plantuml}

\begin{itemize}
  \item \textbf{Caso d’uso:} UUC12
  \item \textbf{Titolo:} Disconnessione
  \item \textbf{Attori primari:} utente autenticato
  \item \textbf{Precondizione:} l'utente deve poter accedere al pulsante di disconnessione.
  \item \textbf{Postcondizione:} l'utente non è più autenticato.
  \item \textbf{Scenario principale:}
        \begin{enumerate}
          \item l'utente esegue la disconnessione dal servizio.
        \end{enumerate}
  \item \textbf{Estensioni:}
        \begin{enumerate}
          \item se l'utente cerca di disconnettersi in assenza di rete, si visualizzerà un errore.
        \end{enumerate}
\end{itemize}
% subsub:UUC12utente (end)

\end{document}